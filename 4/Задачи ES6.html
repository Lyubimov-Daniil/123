<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>ES6</title>
<script type="text/javascript">

/*Задача 1 */
let promise = new Promise((resolve, reject) => {
	let rand = getRandom(10);
	setTimeout(() => {
		if (rand >= 1 && rand <= 5)
			resolve('result')
		else if (rand >= 6 && rand <= 10)
			reject('error');
	}, rand * 1000);
	});

promise.then(
	result => alert('result'),
	error => alert('error')
	);

function getRandom(num) {
	return Math.floor(Math.random() * num);
	}

/*Задача 2 */ 
let promise = new Promise((resolve, reject) =>
	setTimeout(() => {
		resolve(10);
	}, 3000)
	);

promise.then(
	(result) =>
	new Promise((resolve, reject) =>
		setTimeout(() => {
resolve(Math.pow(result, 2));
}, 3000)
)
	).then(
	(result) =>
	new Promise((resolve, reject) =>
		setTimeout(() => {
			resolve(Math.pow(result, 2));
		}, 3000)
		)
	).then(
	(result) =>
	alert(result)
	);

/*Задача 3 */
let array = [
new Promise((resolve, reject) => {
	let rand = getRand(5);
	setTimeout(
		() => resolve(rand)
		, rand * 1000)
}),
new Promise((resolve, reject) => {
	let rand = getRand(5);
	setTimeout(
		() => resolve(rand)
		, rand * 1000)
	}),
new Promise((resolve, reject) => {
	let rand = getRand(5);
	setTimeout(
		() => resolve(rand)
		, rand * 1000)
	}),
];

Promise.all(array).then(
	result => console.log(result[0] + result[1] + result[2])
	);
function getRand(num) {
	return Math.floor(Math.random() * num);
}

/*Задача 4 */
function getNum1() {
	return new Promise(resolve =>
		setTimeout(
			() => resolve(getRandomNum(1, 5))
			, 3000)
		)
	}

function getNum2() {
	return new Promise(resolve =>
		setTimeout(
			() => resolve(getRandomNum(6, 10))
			, 5000)
		)
	}
	async function getNumbers() {
		let num1 = await getNum1();
		let num2 = await getNum2();
		console.log(num1 + num2);
	}
	getNumbers();

function getRandomNum(min, max) {
	return Math.floor(Math.random() * (max - min + 1) + min);

} 

/*Задача 5 */
  class Worker {
  	constructor(name, surname, rate, days) {
  		this.name = name;
		this.surname = surname;
		this.rate = rate;
		this.days = days;
}
getSalary() {
	return this.rate * this.days;
}

}

let worker = new Worker('Иван', 'Иванов', 10, 31);

console.log(worker.name); //выведет 'Иван'
console.log(worker.surname); //выведет 'Иванов'
console.log(worker.rate); //выведет 10
console.log(worker.days); //выведет 31
console.log(worker.getSalary()); //выведет 310 - то есть 10*31

class Worker {
	constructor(name, surname, rate, days) {
		this._name = name;
		this._surname = surname;
		this._rate = rate;
		this._days = days;
	}

getName() {
	return this._name;
}

getSurname() {
	return this._surname;
}

getRate() {
	return this._rate;
}

getDays() {
	return this._days;
}

getSalary() {
	return this._rate * this._days;
}

}

let worker = new Worker('Иван', 'Иванов', 10, 31);
console.log(worker.getName()); 
console.log(worker.getSurname()); 
console.log(worker.getRate()); 
console.log(worker.getDays()); 
console.log(worker.getSalary());

class Worker {
	constructor(name, surname, rate, days) {
		this._name = name;
		this._surname = surname;
		this._rate = rate;
		this._days = days;
}

getName() {
	return this._name;
}

getSurname() {
	return this._surname;
}

getRate() {
	return this._rate;
}

getDays() {
	return this._days;
}

getSalary() {
	return this._rate * this._days;
}

setRate(num) {
	return this._rate = num;
}

setDays(num) {
	return this._days = num;
}

}

let worker = new Worker('Иван', 'Иванов', 10, 31);

console.log(worker.getRate());
console.log(worker.getDays()); 
console.log(worker.getSalary());